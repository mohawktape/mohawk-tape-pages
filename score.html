<!DOCTYPE html>
<html>
<head>
    <title>Pickleball Score Predictor</title>
    <style>
        body {
            font-family: Arial;
            padding: 20px;
            background-color: #f0f4f8;
            max-width: 500px;
            margin: auto;
        }
        label, input, button {
            display: block;
            margin: 10px 0;
        }
        input {
            padding: 5px;
            width: 100px;
        }
        #result {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
<h2>Pickleball Score Predictor</h2>

<label>Team A Score:</label>
<input type="number" id="scoreA" min="0" value="0">

<label>Team B Score:</label>
<input type="number" id="scoreB" min="0" value="0">

<label>Time Elapsed (minutes):</label>
<input type="number" id="minutes" min="1" value="12">

<button onclick="predictScore()">Predict Final Score</button>

<div id="result"></div>

<script>
    function predictScore() {
        let scoreA = parseInt(document.getElementById("scoreA").value);
        let scoreB = parseInt(document.getElementById("scoreB").value);
        let minutes = parseFloat(document.getElementById("minutes").value);

        let rateA = scoreA / minutes;
        let rateB = scoreB / minutes;

        let predA = scoreA;
        let predB = scoreB;

        const step = 0.1; // simulate every 6 seconds
        let simTime = 0;

        while (true) {
            predA += rateA * step;
            predB += rateB * step;
            simTime += step;

            let intA = Math.floor(predA);
            let intB = Math.floor(predB);

            if (intA >= 11 && intA - intB >= 2) {
                displayResult(intA, intB, simTime);
                break;
            }

            if (intB >= 11 && intB - intA >= 2) {
                displayResult(intA, intB, simTime);
                break;
            }

            if (intA >= 21 || intB >= 21) {
                // Escape infinite loop safety net
                displayResult("No clear winner", "", simTime);
                break;
            }
        }
    }

    function displayResult(a, b, simTime) {
        document.getElementById("result").innerText =
            `Predicted Final Score: ${a} - ${b} (estimated finish in ${simTime.toFixed(1)} more minutes)`;
    }
</script>
</body>
</html>
